{"ast":null,"code":"export class TablePattern {\n  constructor(name, api, type, columns) {\n    this.name = name;\n    this.api = api;\n    this.type = type;\n    this.columns = columns;\n  }\n  static columnsFromType(type) {\n    // include subtypes\n    const f = _type => {\n      // if _type is a constructor, create an instance of it\n      if (typeof _type === 'function') _type = new _type();\n      const columns = [];\n      for (const key in _type) {\n        if (_type.hasOwnProperty(key)) {\n          const element = _type[key];\n          console.log(element);\n          if (typeof element === 'object' || typeof element === 'function') {\n            let isConstructor = typeof element === 'function';\n            columns.push({\n              name: key,\n              type: f(isConstructor ? new element() : element)\n            });\n          } else {\n            columns.push({\n              name: key,\n              type: typeof element\n            });\n          }\n        }\n      }\n      return columns;\n    };\n    return f(type);\n  }\n  static empty() {\n    return new TablePattern('', '', null, []);\n  }\n}","map":{"version":3,"mappings":"AAAA,OAAM,MAAOA,YAAY;EAMrBC,YAAYC,IAAY,EAAEC,GAAW,EAAEC,IAAS,EAAEC,OAAyC;IACvF,IAAI,CAACH,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAC1B;EAEA,OAAOC,eAAe,CAACF,IAAS;IAC5B;IACA,MAAMG,CAAC,GAAIC,KAAU,IAAI;MACrB;MACA,IAAI,OAAOA,KAAK,KAAK,UAAU,EAC3BA,KAAK,GAAG,IAAIA,KAAK,EAAE;MACvB,MAAMH,OAAO,GAAkC,EAAE;MACjD,KAAK,MAAMI,GAAG,IAAID,KAAK,EAAE;QACrB,IAAIA,KAAK,CAACE,cAAc,CAACD,GAAG,CAAC,EAAE;UAC3B,MAAME,OAAO,GAAGH,KAAK,CAACC,GAAG,CAAC;UAC1BG,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;UACpB,IAAI,OAAOA,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,KAAK,UAAU,EAAE;YAC9D,IAAIG,aAAa,GAAG,OAAOH,OAAO,KAAK,UAAU;YACjDN,OAAO,CAACU,IAAI,CAAC;cACTb,IAAI,EAAEO,GAAG;cACTL,IAAI,EAAEG,CAAC,CAACO,aAAa,GAAG,IAAIH,OAAO,EAAE,GAAGA,OAAO;aAClD,CAAC;WACL,MACI;YACDN,OAAO,CAACU,IAAI,CAAC;cAAEb,IAAI,EAAEO,GAAG;cAAEL,IAAI,EAAE,OAAOO;YAAO,CAAE,CAAC;;;;MAI7D,OAAON,OAAO;IAClB,CAAC;IACD,OAAOE,CAAC,CAACH,IAAI,CAAC;EAClB;EAEA,OAAOY,KAAK;IACR,OAAO,IAAIhB,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC;EAC7C","names":["TablePattern","constructor","name","api","type","columns","columnsFromType","f","_type","key","hasOwnProperty","element","console","log","isConstructor","push","empty"],"sourceRoot":"","sources":["P:\\NURE\\СРБД\\ssdb_lw_4\\ClientApp\\src\\app\\models\\TablePattern.ts"],"sourcesContent":["export class TablePattern {\r\n    public name: string;\r\n    public columns: { name: string, type: string }[];\r\n    public api: string;\r\n    public type: any;\r\n\r\n    constructor(name: string, api: string, type: any, columns: { name: string, type: string }[]) {\r\n        this.name = name;\r\n        this.api = api;\r\n        this.type = type;\r\n        this.columns = columns;\r\n    }\r\n\r\n    static columnsFromType(type: any): { name: string, type: any }[] {\r\n        // include subtypes\r\n        const f = (_type: any) => {\r\n            // if _type is a constructor, create an instance of it\r\n            if (typeof _type === 'function')\r\n                _type = new _type();\r\n            const columns: { name: string, type: any }[] = [];\r\n            for (const key in _type) {\r\n                if (_type.hasOwnProperty(key)) {\r\n                    const element = _type[key];\r\n                    console.log(element);\r\n                    if (typeof element === 'object' || typeof element === 'function') {\r\n                        let isConstructor = typeof element === 'function';\r\n                        columns.push({\r\n                            name: key, \r\n                            type: f(isConstructor ? new element() : element)\r\n                        });\r\n                    }\r\n                    else {\r\n                        columns.push({ name: key, type: typeof element });\r\n                    }\r\n                }\r\n            }\r\n            return columns;\r\n        };\r\n        return f(type);\r\n    }\r\n\r\n    static empty() {\r\n        return new TablePattern('', '', null, []);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}